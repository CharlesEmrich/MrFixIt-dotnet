@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}


@if (User.Identity.IsAuthenticated)
{
    //Line 19 was bugged due to a typo. Also, how many jobs should a user be able to claim?
    <div class="text-center">
        <h4>Hello Worker @Model.FirstName @Model.LastName. You are Logged In</h4>
        <h3>Your Current Jobs:</h3>
        @foreach (var Job in Model.Jobs)
        {
            <h5>@Job.Title</h5>

        }
        @if (Model.Available)
        {
            <h2>Please @Html.ActionLink("select a job", "Index", "Jobs").</h2>
        }
        else
        {
            @foreach (var Job in Model)
            {
                <ul>
                    <li>@Job.Title</li>
                    <ul>
                        <li>@Job.Description</li>
                    </ul>
                    @if (Job.Worker == null)
                    {
                        <li class="btn">This job is unclaimed. @Html.ActionLink("Claim This Job", "Claim", new { @text = @Job.Title, id = Job.JobId })</li>
                    }
                    else
                    {
                        <li class="btn">This Job is claimed by @Job.Worker.FirstName @Job.Worker.LastName</li>

                    }
                </ul>
            }
        }
    </div>
}